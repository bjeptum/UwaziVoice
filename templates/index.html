<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>UwaziVoice â€“ Live Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style> body { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; } </style>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">ðŸš€ UwaziVoice â€“ Multilingual Civic Assistant</h1>
        <p class="text-center">Dial <strong>*123#</strong> on any Kenyan phone to ask policy questions in your language!</p>
        <div class="row">
            <div class="col-md-8">
                <h3>Live Queries (Last 20)</h3>
                <div id="queries" class="border p-3 bg-dark" style="height: 400px; overflow-y: scroll;">
                    {% for q in queries %}
                    <div class="mb-2"><strong>{{ q.language }}</strong>: {{ q.query }} â†’ {{ q.response }}</div>
                    {% endfor %}
                </div>
            </div>
            <div class="col-md-4">
                <h3>Stats</h3>
                <canvas id="langChart" width="200" height="200"></canvas>
                <p>Total Queries: {{ queries|length }}</p>
            </div>
        </div>
        <div class="text-center mt-4">
            <p>Demo for Kenya Hackathon 2025 â€“ Powered by Groq & Africa's Talking</p>
        </div>
    </div>
    <script>
        // Auto-refresh every 5s for live updates
        setInterval(() => location.reload(), 5000);
        
        // Simple chart (dummy data; replace with real in prod)
        new Chart(document.getElementById('langChart'), {
            type: 'doughnut',
            data: { labels: ['English', 'Swahili', 'Kikuyu', 'Kalenjin'], datasets: [{ data: [40, 30, 20, 10], backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0'] }] }
        });
    </script>
</body>
</html>